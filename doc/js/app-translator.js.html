<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/localize/app-translator.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: components/localize/app-translator.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>'use strict';
/**
 * @ngdoc service
 * @name angularSkeletonApp.translationService:translationService
 * @description
 * This module is responsible for updating the language of the application
 *
 * Ref : http://blog.novanet.no/creating-multilingual-support-using-angularjs/
 * # translationService
 */
app.service('translationService', [
  '$resource',
  '$rootScope',
  function ($resource, $rootScope) {
    /**
     * @ngdoc function
     * @name angularSkeletonApp.translationService#getTranslation
     * @methodOf angularSkeletonApp.translationService
     *
     * @description
     * Updated the language of the application based on the parameter passed. The language will be
     * updated to translation variable under $rootScope.
     *
     *
     * &lt;pre>
     *
     *  app.controller('myController', function ($rootScope, translationService) {
     *    $rootScope.updateLocale = function (lang) {
     *      translationService.getTranslation(lang);
     *      return false;
     *    };
     *  });
     * &lt;/pre>
     *
     * When registering multiple languages for the same language key,
     * the actual translation gets overrided.
     *
     * Invoking this method with no arguments returns the language for 'en_US'
     *
     * @param {string} key A language key.
     *
     */
    var getTranslation = function (language) {
      language = language || 'en_US';
      var path = '/components/localize/lang_' + language + '.json';
      var ssid = 'lang_' + language;
      if (sessionStorage) {
        if (sessionStorage.getItem(ssid)) {
          $rootScope.translation = JSON.parse(sessionStorage.getItem(ssid));
        } else {
          $resource(path).get(function (data) {
            $rootScope.translation = data;
            sessionStorage.setItem(ssid, JSON.stringify($rootScope.translation));
          });
        }
      } else {
        $resource(path).get(function (data) {
          $rootScope.translation = data;
        });
      }
    };
    return {
      getTranslation: getTranslation
    };
}]);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="DeviceManager.html">DeviceManager</a></li></ul><h3>Global</h3><ul><li><a href="global.html#angularSkeletonApp">angularSkeletonApp</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Wed Jul 23 2014 14:58:07 GMT+0530 (GMT+05:30)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
